{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "OpsArtifact",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "artifact_version",
    "role",
    "run_id",
    "timestamp_utc",
    "assumptions",
    "inputs_used",
    "output",
    "confidence",
    "open_questions",
    "next_actions"
  ],
  "properties": {
    "artifact_version": { "type": "string", "const": "1.0" },
    "role": {
      "type": "string",
      "enum": [
        "context_loader",
        "planner",
        "producer",
        "qa",
        "editor",
        "publisher"
      ]
    },
    "run_id": { "type": "string", "minLength": 8 },
    "timestamp_utc": { "type": "string", "minLength": 10 },
    "assumptions": {
      "type": "array",
      "items": { "type": "string" }
    },
    "inputs_used": {
      "type": "array",
      "items": { "type": "string" }
    },
    "output": {},
    "confidence": {
      "type": "number",
      "minimum": 0,
      "maximum": 1
    },
    "open_questions": {
      "type": "array",
      "items": { "type": "string" }
    },
    "next_actions": {
      "type": "array",
      "items": { "type": "string" }
    }
  }
}
